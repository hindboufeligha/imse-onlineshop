{% include 'includes/header.html' %}

<!-- ***** Main Banner Area Start ***** -->
<div class="page-heading" id="top">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="inner-content">
                    <h2>{{ product.p_name }}</h2>
                    <!--<span> {{ product.p_description }}</span>-->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ***** Main Banner Area End ***** -->


<!-- ***** Product Area Starts ***** -->
<section class="section" id="product" data-product-id="{{product.p_id}}">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="left-images">
                    <img src="{{ product.p_image_url }}" alt="">
                    <!--<img src="../assets/images/single-product-02.jpg" alt="">-->
                </div>
            </div>
            <div class="col-lg-4">
                <div class="right-content">
                    <h4>{{ product.p_name }}</h4>
                    <span class="price">{{ product.p_price }} €</span>
                    <ul class="stars">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                    </ul>
                    <div class="product-description">
                        <span>{{ product.p_description }}</span>
                    </div>

                    <!-- 
                    <div class="quote">
                        <i class="fa fa-quote-left"></i>
                        <p>Something unique about this product!</p>
                    </div>
                    -->

                    <form id="addToCartForm" method="POST">
                        <!-- Select Size -->
                        <div class="size-form-group">
                            <div class="left-content">
                                <h4>Size:</h4>
                            </div>
                            <div class="right-content">
                                <div class="select-size">

                                    <select class="form-control" id="size" name="size">
                                        {% for size in sizes %}
                                        <option value="{{ size.name }}" data-max-quantity="{{ size.quantity }}">{{
                                            size.name }}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </div>



                        <!-- Select Quantity -->
                        <div class="quantity-content">
                            <div class="left-content">
                                <h6>Quantity:</h6>
                            </div>
                            <div class="right-content">
                                <div class="quantity buttons_added">
                                    <input type="button" value="-" class="minus">
                                    <input type="number" min="1" max="" name="quantity" value="1" title="Qty"
                                        class="input-text qty text" size="4" pattern="" inputmode="">
                                    <input type="button" value="+" class="plus">
                                </div>
                            </div>
                        </div>

                        <!-- Display the Total -->
                        <div class="total">
                            <h4 style="display: inline;">Total: &nbsp;</h4>
                            <h4 style="display: block;" id="total_price"> {{ product.p_price }}</h4>
                            <h4 style="display: inline;">€</h4>
                            <div class="main-border-button"><button type="submit">Add To Cart</button></div>
                        </div>

                    </form>

                </div>
            </div>
        </div>
    </div>
</section>
<!-- ***** Product Area Ends ***** -->



{% include 'includes/footer.html' %}


<!-- jQuery Libraries -->
<script src="../assets/js/jquery-2.1.0.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Bootstrap -->
<script src="../assets/js/popper.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>

<!-- Plugins -->
<script src="../assets/js/owl-carousel.js"></script>
<script src="../assets/js/accordions.js"></script>
<script src="../assets/js/datepicker.js"></script>
<script src="../assets/js/scrollreveal.min.js"></script>
<script src="../assets/js/waypoints.min.js"></script>
<script src="../assets/js/jquery.counterup.min.js"></script>
<script src="../assets/js/imgfix.min.js"></script>
<script src="../assets/js/slick.js"></script>
<script src="../assets/js/lightbox.js"></script>
<script src="../assets/js/isotope.js"></script>
<script src="../assets/js/quantity.js"></script>

<!-- Global Init -->
<script src="../assets/js/custom.js"></script>

<script>

    $(function () {
        var selectedClass = "";
        $("p").click(function () {
            selectedClass = $(this).attr("data-rel");
            $("#portfolio").fadeTo(50, 0.1);
            $("#portfolio div").not("." + selectedClass).fadeOut();
            setTimeout(function () {
                $("." + selectedClass).fadeIn();
                $("#portfolio").fadeTo(50, 1);
            }, 500);

        });
    });

</script>

<script>
    $(document).ready(function () {
        var basePrice = parseFloat('{{ product.p_price }}');

        function updateTotal() {
            var selectedSize = $('#size').val();
            var quantity = parseInt($('input[name="quantity"]').val(), 10);
            var maxQuantity = $('#size').find(':selected').data('max-quantity');

            if (quantity > maxQuantity) {
                $('input[name="quantity"]').val(maxQuantity);
                quantity = maxQuantity;
            }

            var total_price = basePrice * quantity;
            $('#total_price').text(total_price.toFixed(2));
        }

        $('#size, input[name="quantity"]').change(updateTotal);

        // Handle the +/- buttons
        $('.minus, .plus').on('click', function () {
            var currentQuantity = parseInt($('input[name="quantity"]').val(), 10);
            if ($(this).hasClass('minus') && currentQuantity > 1) {
                $('input[name="quantity"]').val(currentQuantity - 1);
            } else if ($(this).hasClass('plus')) {
                var maxQuantity = $('#size').find(':selected').data('max-quantity');
                if (currentQuantity < maxQuantity) {
                    $('input[name="quantity"]').val(currentQuantity + 1);
                }
            }

            updateTotal();
        });
    });
</script>



</body>

</html>